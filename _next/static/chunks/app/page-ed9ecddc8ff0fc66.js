(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{990:(e,t,a)=>{Promise.resolve().then(a.bind(a,4473))},4473:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(5155),r=a(2115),l=a(1594),i=a(1864),d=a(5426),n=a(8285),c=a(5996),o=a(3463),m=a(9795);function u(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,m.QP)((0,o.$)(t))}let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:u("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});x.displayName="Card",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:u("flex flex-col space-y-1.5 p-6",a),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:u("text-2xl font-semibold leading-none tracking-tight",a),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:u("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:u("p-6 pt-0",a),...r})});h.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:u("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var f=a(1027);let b=(0,f.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function v(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:u(b({variant:a}),t),...r})}var g=a(2920);let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(g.bL,{className:u("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(g.zi,{className:u("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});j.displayName=g.bL.displayName;var p=a(6195);let N=(0,f.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.b,{ref:t,className:u(N(),a),...r})});y.displayName=p.b.displayName;var w=a(1188);let k=w.Kq,C=w.bL,M=w.l9,R=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.jsx)(w.UC,{ref:t,sideOffset:r,className:u("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})});function A(){let[e,t]=(0,r.useState)([{id:1,name:"Drone Alpha",altitude:1200,battery:85,signal:92,status:"active"},{id:2,name:"Drone Beta",altitude:750,battery:62,signal:88,status:"active"},{id:3,name:"Drone Gamma",altitude:145,battery:28,signal:76,status:"warning"},{id:4,name:"Drone Delta",altitude:1800,battery:94,signal:95,status:"active"}]),[a,o]=(0,r.useState)(!0),m=function(e){let[t,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=window.matchMedia(e);a(t.matches);let s=e=>{a(e.matches)};return t.addEventListener("change",s),()=>{t.removeEventListener("change",s)}},[e]),t}("(max-width: 768px)");(0,r.useEffect)(()=>{let e=setInterval(()=>{t(e=>e.map(e=>{if("idle"===e.status)return e;let t=Math.floor(101*Math.random())-50,a=Math.max(0,e.altitude+t),s=.3>Math.random()?1:0,r=Math.max(0,e.battery-s),l=e.status;return l=r<20?"warning":0===a?"idle":"active",{...e,altitude:a,battery:r,status:l}}))},2e3);return()=>clearInterval(e)},[]);let u=e=>{switch(e){case"active":return"bg-green-500";case"idle":return"bg-blue-500";case"warning":return"bg-yellow-500";default:return"bg-gray-500"}},f=e=>{let t=["bg-red-500","bg-blue-500","bg-yellow-500","bg-purple-500","bg-green-500"];return t[(e-1)%t.length]},b=e=>a?"".concat(e," m"):"".concat(Math.round(3.28084*e)," ft"),g=e=>e>1500||e<150,p=()=>3e3,N=Math.min(...e.map(e=>e.altitude)),w=Math.max(...e.map(e=>e.altitude)),A=e=>e/p()*100,E=e=>w===N?50:(e-N)/(w-N)*100;return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-slate-50 dark:bg-slate-900 p-4",children:[(0,s.jsxs)("header",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"无人机高度监控"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(y,{htmlFor:"units",className:"text-sm",children:"米/英尺"}),(0,s.jsx)(j,{id:"units",checked:a,onCheckedChange:o})]})]}),(0,s.jsxs)("div",{className:"grid ".concat(m?"grid-cols-1 gap-6":"grid-cols-2 gap-4"),children:[(0,s.jsx)(x,{className:"".concat(m?"mb-0":""),children:(0,s.jsx)(h,{className:"p-4 pr-20",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"relative h-80 w-16 border-r border-slate-200 dark:border-slate-700 mr-4",children:[[0,500,1e3,1500,2e3,2500,3e3].map(e=>(0,s.jsxs)("div",{className:"absolute w-full flex items-center",style:{bottom:"".concat(A(e),"%")},children:[(0,s.jsx)("div",{className:"w-2 h-0.5 bg-slate-300 dark:bg-slate-600"}),(0,s.jsxs)("span",{className:"text-xs text-slate-500 ml-1",children:[e,"m"]})]},e)),(0,s.jsx)("div",{className:"absolute left-0 right-0 bg-red-100 dark:bg-red-900/20 opacity-30",style:{bottom:"".concat(A(1500),"%"),height:"".concat(A(3e3)-A(1500),"%")}}),(0,s.jsx)("div",{className:"absolute left-0 right-0 bg-red-100 dark:bg-red-900/20 opacity-30",style:{bottom:"0%",height:"".concat(A(150),"%")}}),(0,s.jsx)(k,{children:e.map(e=>(0,s.jsx)("div",{className:"absolute right-0 transition-all duration-500",style:{bottom:"".concat(A(e.altitude),"%")},children:(0,s.jsxs)(C,{children:[(0,s.jsx)(M,{asChild:!0,children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(f(e.id))}),g(e.altitude)&&(0,s.jsx)(l.A,{className:"w-4 h-4 text-red-500 ml-1"})]})}),(0,s.jsxs)(R,{side:"right",children:[(0,s.jsxs)("p",{children:[e.name,": ",b(e.altitude)]}),g(e.altitude)&&(0,s.jsx)("p",{className:"text-red-500 text-xs",children:e.altitude>1500?"高度过高":"高度过低"})]})]})},"scale-".concat(e.id)))})]}),(0,s.jsx)("div",{className:"flex-1 relative h-80 border-b border-slate-200 dark:border-slate-700",children:(0,s.jsxs)("div",{className:"flex-1 relative h-80 border-b border-slate-200 dark:border-slate-700",children:[[0,25,50,75,100].map(e=>(0,s.jsx)("div",{className:"absolute w-full border-t border-dashed border-slate-200 dark:border-slate-700",style:{bottom:"".concat(e,"%")}},"comp-".concat(e))),(0,s.jsx)("div",{className:"absolute -right-16 h-full w-14",children:[0,25,50,75,100].map(e=>(0,s.jsx)("div",{className:"absolute text-xs text-slate-500",style:{bottom:"".concat(e,"%"),transform:"translateY(50%)"},children:b(Math.round(N+(w-N)*e/100))},"label-".concat(e)))}),(0,s.jsx)("div",{className:"flex justify-around h-full relative",children:e.map(e=>(0,s.jsxs)("div",{className:"flex flex-col items-center justify-end w-16 relative",children:[(0,s.jsx)(k,{children:(0,s.jsxs)(C,{children:[(0,s.jsx)(M,{asChild:!0,children:(0,s.jsxs)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white z-10 transition-all duration-500 ".concat(f(e.id)),style:{position:"absolute",bottom:"".concat(E(e.altitude),"%"),transform:"translateY(50%)"},children:[e.id,g(e.altitude)&&(0,s.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center text-white text-xs",children:"!"})]})}),(0,s.jsxs)(R,{children:[(0,s.jsxs)("p",{children:[e.name,": ",b(e.altitude)]}),g(e.altitude)&&(0,s.jsx)("p",{className:"text-red-500 text-xs",children:e.altitude>1500?"高度过高":"高度过低"})]})]})}),(0,s.jsx)("div",{className:"w-1 transition-all duration-500 ".concat(f(e.id)),style:{height:"".concat(E(e.altitude),"%")}})]},"comp-drone-".concat(e.id)))})]})})]})})}),(0,s.jsx)("div",{className:"".concat(m?"":"h-[calc(100vh-10rem)] overflow-auto pr-2"),children:(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsx)(x,{className:"overflow-hidden",children:(0,s.jsx)(h,{className:"p-0",children:(0,s.jsxs)("div",{className:"flex items-stretch",children:[(0,s.jsx)("div",{className:"w-2 relative ".concat(f(e.id)," opacity-20"),children:(0,s.jsx)("div",{className:"absolute bottom-0 w-full transition-all duration-500 ".concat(f(e.id)," opacity-100"),style:{height:"".concat(e.altitude/p()*100,"%")}})}),(0,s.jsxs)("div",{className:"flex-1 p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full mr-2 ".concat(f(e.id))}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:e.name}),(0,s.jsx)(v,{className:u(e.status),children:"active"===e.status?"活动中":"idle"===e.status?"待机中":"警告"})]})]}),(0,s.jsxs)("div",{className:"text-2xl font-bold flex items-center",children:[b(e.altitude),(0,s.jsx)(i.A,{className:"ml-1 h-5 w-5"}),g(e.altitude)&&(0,s.jsx)(l.A,{className:"w-5 h-5 text-red-500 ml-1"})]})]}),g(e.altitude)&&(0,s.jsx)("div",{className:"mb-2 text-sm text-red-500 font-medium",children:e.altitude>1500?"警告: 高度超过1500米":"警告: 高度低于150米"}),(0,s.jsxs)("div",{className:"flex justify-between mt-4 text-sm text-slate-500 dark:text-slate-400",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(d.A,{className:"mr-1 h-4 w-4"}),(0,s.jsxs)("span",{children:[e.battery,"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(n.A,{className:"mr-1 h-4 w-4"}),(0,s.jsxs)("span",{children:[e.signal,"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(c.A,{className:"mr-1 h-4 w-4"}),(0,s.jsx)("span",{children:"idle"!==e.status?"已连接":"未连接"})]})]})]})]})})},e.id))})})]})]})}R.displayName=w.UC.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[915,441,517,358],()=>t(990)),_N_E=e.O()}]);